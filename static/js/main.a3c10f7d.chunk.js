(this.webpackJsonpreact_zero_alt=this.webpackJsonpreact_zero_alt||[]).push([[0],{132:function(e,a,t){e.exports=t(240)},233:function(e,a,t){},235:function(e,a,t){},237:function(e,a,t){},238:function(e,a,t){},240:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(35),s=t.n(r),o=t(29),i=t(123),l=t(46),m=t(51),u=t(45),d=Object(u.c)({messageItem:function(){return[{text:"Item in Array"}]},receivedMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;return"GRAPHQL_MESSAGE_RECEIVED"===a.type?a.payload:e}}),p=t(284),f=t(37),E=t(276),b=function(){var e=Object(l.f)(),a=Object(E.a)(["sid"]),t=Object(f.a)(a,1)[0];Object(n.useEffect)((function(){setTimeout((function(){r()}),100)}),[]);var r=function(){t.sid?e.push("/dashboard"):e.push("/login")};return c.a.createElement("div",null)},v=t(89),g=t(120),h=t(24),O=t(42),j=t(124),y="https://efvg3mt46zg47hwy4qh66h7j5e.appsync-api.us-east-1.amazonaws.com/graphql",x={type:"API_KEY",apiKey:"da2-7bvepoom6zd7xlr7yoystouoxu"},N=h.ApolloLink.from([Object(v.createAuthLink)({url:y,region:"us-east-1",auth:x}),Object(g.createSubscriptionHandshakeLink)({url:y,region:"us-east-1",auth:x})]),_=new O.default({link:N,cache:new j.a}),w=t(121),S=t(281),k=t(285),$=t(286),F=t(277),I=(t(233),t(280)),T=t(90),A=t.n(T),C=t(287),L=t(279),q=Object(F.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)},typography:{fontFamily:"aeonikmedium",htmlFontSize:12}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(7),height:e.spacing(7)}}}));function z(){var e=q();return c.a.createElement("div",{className:e.root},c.a.createElement(C.a,{alt:"M",className:e.small},c.a.createElement(L.a,null,"M")))}var B=t(242);function R(e){return c.a.createElement($.a,Object.assign({elevation:6,variant:"filled"},e))}var D=Object(F.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)},small:{width:e.spacing(3),height:e.spacing(3)}}}})),H=function(){D();var e=c.a.useState(!1),a=Object(f.a)(e,2),t=a[0],r=a[1],s=Object(n.useState)(!1),o=Object(f.a)(s,2),i=o[0],m=o[1],u=Object(l.f)(),d=Object(E.a)(["sid"]),p=Object(f.a)(d,3),b=p[0],v=(p[1],p[2]),g=function(){u.push("/"),v("sid",{path:"/"})},h=function(e,a){"clickaway"!==a&&r(!1)};Object(n.useEffect)((function(){!0!==i&&(setTimeout((function(){r(!0)}),1e3),m(!0))}));return console.log(b),c.a.createElement("div",{className:"dashboard"},c.a.createElement(I.a,{className:"signUp-card-fadeInLayout animatedBox fadeInBox"},c.a.createElement("div",{className:"dashboardTitle"},"Welcome to Mvnifest!"),c.a.createElement("div",{className:"centeredTitle"},"(Dashboard goes here!)"),c.a.createElement("br",null),c.a.createElement(S.a,{variant:"contained",color:"secondary",className:"buttonCentered",onClick:g},"Start Process Again")),c.a.createElement(B.a,{className:"topBar",square:!0,elevation:5},c.a.createElement("div",{className:"topBarColor"},c.a.createElement("div",{className:"top_title_text_dashboard"},"mvnifest."),c.a.createElement("div",{className:"userGuy"},c.a.createElement(z,null)))),c.a.createElement(k.a,{open:t,autoHideDuration:6e3,onClose:h},c.a.createElement(R,{onClose:h,severity:"success"},"Dashboard loaded!")))},M=function(){var e=Object(l.g)();return c.a.createElement("h1",null," ","Route ".concat(e.pathname," not found")," ")},G=(t(235),t(94)),P=t.n(G),Q=t(122),U=t(69),J=t(52),K=t(53),V=t.n(K);function W(){var e=Object(J.a)(["\n    mutation passwordless($command:String!) {\n        passwordless( command:$command ) {\n            sid\n            QRbase64\n        }\n    }"]);return W=function(){return e},e}var X=V()(W()),Y=(t(237),t(238),t(283)),Z=t(282),ee=t(245);function ae(){var e=Object(J.a)(["subscription notifications ($sid:String!) {\n    notifications(sid:$sid) {\n        sid\n        command\n        context\n        payload\n    }\n}\n"]);return ae=function(){return e},e}var te=V()(ae());function ne(){var e=Object(J.a)(["\nmutation message($command:String $sid:String! $payload:String $context:String ) {\n   new_message : message( sid:$sid command:$command payload:$payload context:$context ) {\n          __typename\n        }\n    }"]);return ne=function(){return e},e}var ce=V()(ne()),re=function(e){var a=e.sid,t=Object(U.b)(te,{variables:""!==a?{sid:a}:{}}).data;return t||null},se=function(){var e=Object(l.f)(),a=Object(U.a)(X),t=Object(f.a)(a,1)[0],r=Object(n.useState)(""),s=Object(f.a)(r,2),o=s[0],i=s[1],m=Object(U.a)(ce),u=Object(f.a)(m,2),d=(u[0],u[1],Object(E.a)(["session","token"])),p=Object(f.a)(d,2),b=p[0],v=p[1],g=Object(n.useState)(""),h=Object(f.a)(g,2),O=h[0],j=h[1],y=re({sid:o});console.log(o),b.sid&&e.push("/dashboard"),y&&(console.log("data",y),v("sid",y.notifications.sid,{path:"/"}),i(""),setTimeout((function(){e.push("/dashboard")}),2500)),Object(n.useEffect)((function(){x()}),[j,i]);var x=function(){var e=Object(Q.a)(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({variables:{command:"passwordless.session"}});case 3:a=e.sent,j(a.data.passwordless.QRbase64),i(a.data.passwordless.sid),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),N=Object(ee.a)({root:{color:"#00695c"}})(Z.a),_=(Object(ee.a)({root:{color:"#FFFFFF"}})(Z.a),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,""===o?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(N,{variant:"indeterminate",size:48,thickness:3}))):c.a.createElement("img",{className:"qrImage",src:"data:image/png;base64,".concat(O),alt:""})))});return c.a.createElement(A.a,{delay:400},c.a.createElement("div",{className:"Login_010"},c.a.createElement("div",{className:"signUp-card"},c.a.createElement(Y.a,{container:!0},c.a.createElement(Y.a,{item:!0,lg:4,md:4,sm:4,xs:12},c.a.createElement("div",{className:"leftBox"},c.a.createElement("div",{className:"left_title_text"},"Welcome to mvnifest."),c.a.createElement("div",{className:"top_title_text"},"mvnifest."))),c.a.createElement(Y.a,{item:!0,lg:8,md:8,sm:8,xs:12},c.a.createElement("div",{className:"rightBox"},c.a.createElement(c.a.Fragment,null,c.a.createElement(I.a,{className:"qrCardArea"},c.a.createElement("div",null,c.a.createElement("div",{className:"qrImage"},_()),c.a.createElement("div",{className:"qrImageSubText"},"Scan the QR code in your mobile app to launch the site."),c.a.createElement("div",{className:"needHelpText"},"Need Help? (Link Goes Here)"))))))))))},oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ie=Object(u.e)(d,oe(Object(u.a)(w.a))),le=c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:b}),c.a.createElement(l.a,{exact:!0,path:"/dashboard",component:H}),c.a.createElement(l.a,{exact:!0,path:"/login",component:se}),c.a.createElement(l.a,{component:M})),me=function(){return c.a.createElement(o.a,{client:_},c.a.createElement(i.a,{store:ie},c.a.createElement(p.a,null,c.a.createElement(m.a,null,le))))};s.a.render(c.a.createElement(me,null),document.getElementById("root"))},87:function(e,a){}},[[132,1,2]]]);
//# sourceMappingURL=main.a3c10f7d.chunk.js.map